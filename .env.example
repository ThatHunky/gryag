TELEGRAM_TOKEN=
GEMINI_API_KEY=
GEMINI_MODEL=gemini-2.5-flash
GEMINI_EMBED_MODEL=models/text-embedding-004
DB_PATH=./gryag.db
MAX_TURNS=50
CONTEXT_SUMMARY_THRESHOLD=30
PER_USER_PER_HOUR=5
USE_REDIS=false
REDIS_URL=redis://localhost:6379/0
ADMIN_USER_IDS=
RETENTION_DAYS=30
ENABLE_SEARCH_GROUNDING=false

# Weather API (OpenWeatherMap)
OPENWEATHER_API_KEY=
OPENWEATHER_BASE_URL=https://api.openweathermap.org/data/2.5

# Currency API (ExchangeRate-API) 
EXCHANGE_RATE_API_KEY=
EXCHANGE_RATE_BASE_URL=https://v6.exchangerate-api.com

# User Profiling
ENABLE_USER_PROFILING=true
USER_PROFILE_RETENTION_DAYS=365
MAX_FACTS_PER_USER=100
FACT_CONFIDENCE_THRESHOLD=0.7
FACT_EXTRACTION_ENABLED=true
PROFILE_SUMMARIZATION_INTERVAL_HOURS=24
MIN_MESSAGES_FOR_EXTRACTION=5

# Profile Summarization (Phase 2)
# Background task that generates summaries of user profiles
# Optimized for i5-6500: processes 1 profile at a time, runs at 3 AM
ENABLE_PROFILE_SUMMARIZATION=false
PROFILE_SUMMARIZATION_HOUR=3
PROFILE_SUMMARIZATION_BATCH_SIZE=30
MAX_PROFILES_PER_DAY=50

# Fact Extraction Method (rule_based, local_model, hybrid, gemini)
# - rule_based: Fast regex patterns (instant, 70% coverage, zero cost)
# - local_model: Local LLM inference (100-500ms, 85% coverage, requires model)
# - hybrid: Rule-based + local model + optional Gemini fallback (recommended)
# - gemini: Legacy Gemini-only mode (not recommended)
FACT_EXTRACTION_METHOD=hybrid

# Local Model Configuration (required for local_model or hybrid modes)
# Download model with: bash download_model.sh
# Or manually: wget https://huggingface.co/microsoft/Phi-3-mini-4k-instruct-gguf/resolve/main/Phi-3-mini-4k-instruct-q4.gguf -O models/phi-3-mini-q4.gguf
LOCAL_MODEL_PATH=models/phi-3-mini-q4.gguf
LOCAL_MODEL_THREADS=4

# Gemini Fallback (optional, disabled by default)
# Only used in hybrid mode when rule-based and local model find <2 facts
ENABLE_GEMINI_FALLBACK=false

